<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>
	<entry key="selectBestProduct">
		SELECT B.*
			FROM (SELECT ROWNUM RNUM, A.* 
			      FROM(SELECT P_ID, P_NAME, NVL(REVIEW_RATING, 0) AS "REVIEW_RATING", COUNT(REVIEW_RATING) AS "COUNT" ,P_NETPRICE, P_IMG1, P_ENROLL_DATE
			        FROM TB_REVIEW
			        RIGHT JOIN TB_PRODUCT USING (P_ID)
			        LEFT JOIN TB_PRODUCT_IMG USING (P_ID)
			        GROUP BY P_ID, P_NAME, REVIEW_RATING,P_NETPRICE, P_IMG1, P_ENROLL_DATE
			        ORDER BY P_ENROLL_DATE ASC) A ) B
			WHERE RNUM BETWEEN 1 AND 20
	</entry>
</properties>

