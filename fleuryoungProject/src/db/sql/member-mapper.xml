<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>
	<entry key="loginMember">
		SELECT
		 	MEM_ID
			,MEM_PW
			,MEM_EMAIL
			,MEM_NAME
			,MEM_PHONE
			,MEM_POSTAL
			,MEM_STREET
			,MEM_ADDRESS
			,MEM_ENROLL_DATE
			,MEM_MILEAGE
			,MEM_IMG
			,MEM_GET_PHONE
			,MEM_BIRTHDATE
			,MEM_GENDER
			,MEM_STATUS
		FROM TB_MEMBER
		WHERE MEM_ID = ? AND MEM_PW = ?
	</entry>
	
	<entry key="checkMember">
		SELECT MEM_ID
		FROM TB_MEMBER
		WHERE MEM_ID = ?
	</entry>
	
	<entry key="selectMemberOrderInfo">
		SELECT MEM_ID, MEM_NAME, MEM_EMAIL, MEM_PHONE, MEM_POSTAL, MEM_STREET, MEM_ADDRESS, MEM_MILEAGE
		FROM TB_MEMBER
		WHERE MEM_ID = ?
	</entry>
	
	<entry key="selectMemberCoupon">
		SELECT COU_ID, COU_NAME, COU_DETAIL, COU_REGDATE, COU_EXPIRE, COU_DISCOUNT
		FROM TB_OWNED_COUPON
		JOIN TB_COUPON USING (COU_ID)
		WHERE MEM_ID = ? AND COU_USED_YN = 'N'
	</entry>
	
	<entry key="addOrder">
		INSERT INTO TB_MEM_ORDER(ORD_ID,
		                         MEM_ID,
		                         ORD_DATE,
		                         ORD_POSTAL,
		                         ORD_STREET,
		                         ORD_ADDRESS,
		                         ORD_RECIEVER_NAME,
		                         ORD_RECIEVER_PHONE,
		                         ORD_REQUEST)
		VALUES (
		         SEQ_MEM_ORDER.NEXTVAL
		       , ?
		       , SYSDATE
		       , ?
		       , ?
		       , ?
		       , ?
		       , ?
		       , ? 
		        ) 
	</entry>
	
	<entry key="selectOdId">
		SELECT ORD_ID
		FROM 
		(SELECT ORD_ID FROM TB_MEM_ORDER
		 WHERE MEM_ID = ?
		 ORDER BY ORD_ID DESC)
		WHERE ROWNUM &lt;= 1
	</entry>
	
	<entry key="addOrderDetail">
		INSERT INTO TB_MEM_ORDER_DETAIL(OD_ID,
		                                OD_COUNT,
		                                OD_STATUS,
		                                ORD_ID,
		                                MEM_ID,
		                                OPTION_1ND_NO,
		                                OPTION_2ND_NO,
		                                OD_PRICE,
		                                OPTION_2ND_TITLE,
		                                OPTION_PRICE,
		                                P_ID,
		                                OPTION_2ND_CONTENT)
		VALUES (
		          SEQ_MEM_ORDER_DETAIL.NEXTVAL
		        , ?
		        , ?
		        , ?
		        , ?
		        , ?
		        , ?
		        , ?
		        , ?
		        , ?
		        , ?
		        , ?
		        )
	</entry>
	
</properties>

